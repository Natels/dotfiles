#!/usr/bin/env bash
set -e

if [[ -z "$GITHUB_USER" ]]; then
    echo "GITHUB_USER not defined."
    exit 1
fi

if [[ -d "$HOME/git/hub/$GITHUB_USER/dotfiles" ]]; then
    echo "Pulling $GITHUB_USER/dotfiles..."
    pushd "$HOME/git/hub/$GITHUB_USER/dotfiles" > /dev/null
    git pull
    popd > /dev/null
else
    echo "Cloning $GITHUB_USER/dotfiles..."
    git clone "https://github.com/$GITHUB_USER/dotfiles.git" "$HOME/git/hub/$GITHUB_USER/dotfiles"
fi
