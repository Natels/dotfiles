#!/usr/bin/env bash

DROPBOX_CONFIG_PATH="$HOME/Dropbox/Configuration"

if [[ -h "$HOME/.ssh/config" ]]; then
    echo "SSH config already linked."
else
    echo "Linking SSH config..."
    ln -s "$DROPBOX_CONFIG_PATH/Ssh/config" "$HOME/.ssh/config"
fi

SUBLIME_CONFIG_PATH="$HOME/Library/Application Support/Sublime Text 3/"
DROPBOX_SUBLIME_CONFIG_PATH="$DROPBOX_CONFIG_PATH/Sublime Text 3"

if [[ -h "$SUBLIME_CONFIG_PATH/Installed Packages" ]]; then
    echo "Sublime Installed Packages directory already linked."
else
    echo "Replacing Sublime Installed Packages directory..."

    if [[ -d "$SUBLIME_CONFIG_PATH/Installed Packages" ]]; then
        mv "$SUBLIME_CONFIG_PATH/Installed Packages" "$SUBLIME_CONFIG_PATH/Installed Packages.bak"
    fi

    ln -s "$DROPBOX_SUBLIME_CONFIG_PATH/Installed Packages" "$SUBLIME_CONFIG_PATH/Installed Packages"
fi

if [[ -h "$SUBLIME_CONFIG_PATH/Packages" ]]; then
    echo "Sublime Packages directory already linked."
else
    echo "Replacing Sublime Packages directory..."

    if [[ -d "$SUBLIME_CONFIG_PATH/Packages" ]]; then
        mv "$SUBLIME_CONFIG_PATH/Packages" "$SUBLIME_CONFIG_PATH/Packages.bak"
    fi

    ln -s "$DROPBOX_SUBLIME_CONFIG_PATH/Packages" "$SUBLIME_CONFIG_PATH/Packages"
fi
